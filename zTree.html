<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="renderer" content="webkit" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="描述" />
  <meta name="keywords" content="关键词" />
  <title></title>

  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
  <style>
    .col-md-3 {
      border-right: #999999 1px dashed
    }

    .col-md-9 iframe {
      height: 600px;
    }
  </style>
</head>

<body>
  <div class="card-fluid abs-full">
    <div class="row-12">
      <div class="panel-full col-md-12">
        <div class="panel panel-default">
          <div class="panel-heading">flex输入框</div>
          <div class="panel-body">
            <a class="btn btn-link" href="http://www.jq22.com/jquery-info941" target="_blank">jQuery树形菜单插件zTree</a>
            <a class="btn btn-link" href="http://www.treejs.cn/v3/api.php" target="_blank">zTree API 文档</a>
            <div class="col-md-3">
              <ul id="tree" class="ztree"></ul>
            </div>
            <div class="col-md-9">
              <iframe id="testIframe" name="testIframe" frameborder="0" scrolling="auto" width="100%" height="100%" src="zTree/core/standardData.html"></iframe>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="dist/js/fileSrc.js"></script>
  <script>
    var zTree;
    var demoIframe;

    var setting = {
      view: {
        dblClickExpand: false,
        showLine: true,
        selectedMulti: false
      },
      data: {
        simpleData: {
          enable: true,
          idKey: "id",
          pIdKey: "pId",
          rootPId: ""
        }
      },
      callback: {
        beforeClick: function (treeId, treeNode) {
          var zTree = $.fn.zTree.getZTreeObj("tree");
          if (treeNode.isParent) {
            zTree.expandNode(treeNode);
            return false;
          } else {
            demoIframe.attr("src", treeNode.file + ".html");
            return true;
          }
        }
      }
    };

    var zNodes = [{
        id: 1,
        pId: 0,
        name: "[core] 基本功能 演示",
        open: true
      },
      {
        id: 500,
        pId: 1,
        name: "bootstrap风格-多选",
        file: "zTree/excheck/checkbox-bootstrap"
      },
      {
        id: 500,
        pId: 1,
        name: "bootstrap风格-单选",
        file: "zTree/excheck/radio-bootstrap"
      },
      {
        id: 101,
        pId: 1,
        name: "最简单的树 --  标准 JSON 数据",
        file: "zTree/core/standardData"
      },
      {
        id: 102,
        pId: 1,
        name: "最简单的树 --  简单 JSON 数据",
        file: "zTree/core/simpleData"
      },
      {
        id: 103,
        pId: 1,
        name: "不显示 连接线",
        file: "zTree/core/noline"
      },
      {
        id: 104,
        pId: 1,
        name: "不显示 节点 图标",
        file: "zTree/core/noicon"
      },
      {
        id: 105,
        pId: 1,
        name: "自定义图标 --  icon 属性",
        file: "zTree/core/custom_icon"
      },
      {
        id: 106,
        pId: 1,
        name: "自定义图标 --  iconSkin 属性",
        file: "zTree/core/custom_iconSkin"
      },
      {
        id: 107,
        pId: 1,
        name: "自定义字体",
        file: "zTree/core/custom_font"
      },
      {
        id: 115,
        pId: 1,
        name: "超链接演示",
        file: "zTree/core/url"
      },
      {
        id: 108,
        pId: 1,
        name: "异步加载 节点数据",
        file: "zTree/core/async"
      },
      {
        id: 109,
        pId: 1,
        name: "用 zTree 方法 异步加载 节点数据",
        file: "zTree/core/async_fun"
      },
      {
        id: 110,
        pId: 1,
        name: "用 zTree 方法 更新 节点数据",
        file: "zTree/core/update_fun"
      },
      {
        id: 111,
        pId: 1,
        name: "单击 节点 控制",
        file: "zTree/core/click"
      },
      {
        id: 112,
        pId: 1,
        name: "展开 / 折叠 父节点 控制",
        file: "zTree/core/expand"
      },
      {
        id: 113,
        pId: 1,
        name: "根据 参数 查找 节点",
        file: "zTree/core/searchNodes"
      },
      {
        id: 114,
        pId: 1,
        name: "其他 鼠标 事件监听",
        file: "zTree/core/otherMouse"
      },

      {
        id: 2,
        pId: 0,
        name: "[excheck] 复/单选框功能 演示",
        open: false
      },
      {
        id: 201,
        pId: 2,
        name: "Checkbox 勾选操作",
        file: "zTree/excheck/checkbox"
      },
      {
        id: 206,
        pId: 2,
        name: "Checkbox nocheck 演示",
        file: "zTree/excheck/checkbox_nocheck"
      },
      {
        id: 207,
        pId: 2,
        name: "Checkbox chkDisabled 演示",
        file: "zTree/excheck/checkbox_chkDisabled"
      },
      {
        id: 208,
        pId: 2,
        name: "Checkbox halfCheck 演示",
        file: "zTree/excheck/checkbox_halfCheck"
      },
      {
        id: 202,
        pId: 2,
        name: "Checkbox 勾选统计",
        file: "zTree/excheck/checkbox_count"
      },
      {
        id: 203,
        pId: 2,
        name: "用 zTree 方法 勾选 Checkbox",
        file: "zTree/excheck/checkbox_fun"
      },
      {
        id: 204,
        pId: 2,
        name: "Radio 勾选操作",
        file: "zTree/excheck/radio"
      },
      {
        id: 209,
        pId: 2,
        name: "Radio nocheck 演示",
        file: "zTree/excheck/radio_nocheck"
      },
      {
        id: 210,
        pId: 2,
        name: "Radio chkDisabled 演示",
        file: "zTree/excheck/radio_chkDisabled"
      },
      {
        id: 211,
        pId: 2,
        name: "Radio halfCheck 演示",
        file: "zTree/excheck/radio_halfCheck"
      },
      {
        id: 205,
        pId: 2,
        name: "用 zTree 方法 勾选 Radio",
        file: "zTree/excheck/radio_fun"
      },

      {
        id: 3,
        pId: 0,
        name: "[exedit] 编辑功能 演示",
        open: false
      },
      {
        id: 301,
        pId: 3,
        name: "拖拽 节点 基本控制",
        file: "zTree/exedit/drag"
      },
      {
        id: 302,
        pId: 3,
        name: "拖拽 节点 高级控制",
        file: "zTree/exedit/drag_super"
      },
      {
        id: 303,
        pId: 3,
        name: "用 zTree 方法 移动 / 复制 节点",
        file: "zTree/exedit/drag_fun"
      },
      {
        id: 304,
        pId: 3,
        name: "基本 增 / 删 / 改 节点",
        file: "zTree/exedit/edit"
      },
      {
        id: 305,
        pId: 3,
        name: "高级 增 / 删 / 改 节点",
        file: "zTree/exedit/edit_super"
      },
      {
        id: 306,
        pId: 3,
        name: "用 zTree 方法 增 / 删 / 改 节点",
        file: "zTree/exedit/edit_fun"
      },
      {
        id: 307,
        pId: 3,
        name: "异步加载 & 编辑功能 共存",
        file: "zTree/exedit/async_edit"
      },
      {
        id: 308,
        pId: 3,
        name: "多棵树之间 的 数据交互",
        file: "zTree/exedit/multiTree"
      },

      {
        id: 4,
        pId: 0,
        name: "大数据量 演示",
        open: false
      },
      {
        id: 401,
        pId: 4,
        name: "一次性加载大数据量",
        file: "zTree/bigdata/common"
      },
      {
        id: 402,
        pId: 4,
        name: "分批异步加载大数据量",
        file: "zTree/bigdata/diy_async"
      },
      {
        id: 403,
        pId: 4,
        name: "分批异步加载大数据量",
        file: "zTree/bigdata/page"
      },

      {
        id: 5,
        pId: 0,
        name: "组合功能 演示",
        open: false
      },
      {
        id: 501,
        pId: 5,
        name: "冻结根节点",
        file: "zTree/super/oneroot"
      },
      {
        id: 502,
        pId: 5,
        name: "单击展开/折叠节点",
        file: "zTree/super/oneclick"
      },
      {
        id: 503,
        pId: 5,
        name: "保持展开单一路径",
        file: "zTree/super/singlepath"
      },
      {
        id: 504,
        pId: 5,
        name: "添加 自定义控件",
        file: "zTree/super/diydom"
      },
      {
        id: 505,
        pId: 5,
        name: "checkbox / radio 共存",
        file: "zTree/super/checkbox_radio"
      },
      {
        id: 506,
        pId: 5,
        name: "左侧菜单",
        file: "zTree/super/left_menu"
      },
      {
        id: 513,
        pId: 5,
        name: "OutLook 风格",
        file: "zTree/super/left_menuForOutLook"
      },
      // {
      //   id: 515,
      //   pId: 5,
      //   name: "Awesome 风格",
      //   file: "zTree/super/awesome"
      // },
      // {
      //   id: 514,
      //   pId: 5,
      //   name: "Metro 风格",
      //   file: "zTree/super/metro"
      // },
      {
        id: 507,
        pId: 5,
        name: "下拉菜单",
        file: "zTree/super/select_menu"
      },
      {
        id: 509,
        pId: 5,
        name: "带 checkbox 的多选下拉菜单",
        file: "zTree/super/select_menu_checkbox"
      },
      {
        id: 510,
        pId: 5,
        name: "带 radio 的单选下拉菜单",
        file: "zTree/super/select_menu_radio"
      },
      {
        id: 508,
        pId: 5,
        name: "右键菜单 的 实现",
        file: "zTree/super/rightClickMenu"
      },
      {
        id: 511,
        pId: 5,
        name: "与其他 DOM 拖拽互动",
        file: "zTree/super/dragWithOther"
      },
      {
        id: 512,
        pId: 5,
        name: "异步加载模式下全部展开",
        file: "zTree/super/asyncForAll"
      },

      {
        id: 6,
        pId: 0,
        name: "其他扩展功能 演示",
        open: false
      },
      {
        id: 601,
        pId: 6,
        name: "隐藏普通节点",
        file: "zTree/exhide/common"
      },
      {
        id: 602,
        pId: 6,
        name: "配合 checkbox 的隐藏",
        file: "zTree/exhide/checkbox"
      },
      {
        id: 603,
        pId: 6,
        name: "配合 radio 的隐藏",
        file: "zTree/exhide/radio"
      }
    ];

    $(document).ready(function () {
      var t = $("#tree");
      t = $.fn.zTree.init(t, setting, zNodes);
      demoIframe = $("#testIframe");
      demoIframe.bind("load", loadReady);
      var zTree = $.fn.zTree.getZTreeObj("tree");
      zTree.selectNode(zTree.getNodeByParam("id", 101));

    });

    function loadReady() {
      var bodyH = demoIframe.contents().find("body").get(0).scrollHeight,
        htmlH = demoIframe.contents().find("html").get(0).scrollHeight,
        maxH = Math.max(bodyH, htmlH),
        minH = Math.min(bodyH, htmlH),
        h = demoIframe.height() >= maxH ? minH : maxH;
      if (h < 530) h = 530;
      demoIframe.height(h);
    }
  </script>
</body>

</html>